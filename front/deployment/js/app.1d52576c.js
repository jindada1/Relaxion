(function(t){function e(e){for(var s,i,a=e[0],c=e[1],l=e[2],u=0,f=[];u<a.length;u++)i=a[u],r[i]&&f.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var a=n[i];0!==r[a]&&(s=!1)}s&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},i={app:0},r={app:0},o=[];function a(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"07ddd489","chunk-74393a94":"b1118c35"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1,"chunk-74393a94":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var s="css/"+({about:"about"}[t]||t)+"."+{about:"aa5b6854","chunk-74393a94":"727c74a4"}[t]+".css",r=c.p+s,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var l=o[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===r))return e()}var f=document.getElementsByTagName("style");for(a=0;a<f.length;a++){l=f[a],u=l.getAttribute("data-href");if(u===s||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.request=s,delete i[t],p.parentNode.removeChild(p),n(o)},p.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){i[t]=0}));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise(function(e,n){s=r[t]=[e,n]});e.push(s[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(t),l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+s+": "+i+")");o.type=s,o.request=i,n[1](o)}r[t]=void 0}};var f=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var p=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00e3":function(t,e,n){},"02f6":function(t,e,n){"use strict";var s=n("5517"),i=n.n(s);i.a},"0a98":function(t,e,n){"use strict";var s=n("6b85"),i=n.n(s);i.a},"2dce":function(t,e,n){"use strict";var s=n("76ea"),i=n.n(s);i.a},"2e52":function(t,e,n){"use strict";var s=n("4716"),i=n.n(s);i.a},4716:function(t,e,n){},"4df3":function(t,e,n){"use strict";var s=n("795b"),i=n.n(s),r=n("bc3a"),o=n.n(r),a=n("5c96"),c=o.a.create({baseURL:"/",validateStatus:function(t){return t<500},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!1});c.interceptors.response.use(function(t){return t.data},function(t){return console.log(t),t.response&&console.log(t.response.status),console.log("err"+t),Object(a["Message"])({message:t.message,type:"error",duration:5e3}),i.a.reject(t)});var l=c;function u(t,e,n,s){return l({url:"/".concat(t,"/").concat(e),method:"get",params:{keyword:n,page:s}})}function f(t,e){return l({url:"/".concat(t,"/uri/mv"),method:"GET",params:{mvid:e}})}function p(t,e,n){return l({url:"/".concat(t,"/comments/").concat(n),method:"GET",params:{idforcomments:e}})}function d(t,e){return l({url:"/".concat(t,"/user/songlists"),method:"get",params:{user:e}})}function h(t){return l({url:"/user/loved/songs",method:"get",params:{username:t}})}function m(t,e,n){return l({url:"/".concat(t,"/songs/songlist"),method:"get",params:{dissid:e,page:n}})}function g(t){return l({url:"/extract",method:"POST",data:t})}function y(t){return l({url:"/login",method:"POST",data:t})}function v(t){return l({url:"/sign",method:"POST",data:t})}function b(t){return l({url:"/user/info/update",method:"POST",data:t})}function S(t){return l({url:"/user/love/song",method:"POST",data:t})}function x(t){return l({url:"/user/hate/song",method:"POST",data:t})}function w(t){return l({url:t,method:"GET"})}n.d(e,"g",function(){return u}),n.d(e,"d",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return h}),n.d(e,"j",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"h",function(){return y}),n.d(e,"i",function(){return v}),n.d(e,"k",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"e",function(){return x}),n.d(e,"c",function(){return w})},"4f83":function(t,e,n){"use strict";var s=n("00e3"),i=n.n(s);i.a},5517:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Layout",{staticStyle:{height:"100%"}},[n("div",{attrs:{id:"nav"}},[t.notFull?n("Icon",{staticStyle:{position:"fixed",left:"10px",top:"12px"},attrs:{type:"md-expand",custom:"i-icon",size:"16"},on:{click:t.fullscreen}}):n("Icon",{staticStyle:{position:"fixed",left:"10px",top:"12px"},attrs:{type:"md-contract",custom:"i-icon",size:"16"},on:{click:t.exitFullscreen}}),n("span",{staticClass:"top-option"},[n("router-link",{attrs:{to:"/"}},[n("Icon",{staticStyle:{"margin-bottom":"2px"},attrs:{custom:"i-icon",size:"18",type:"md-person"}}),t._v("用户\n        ")],1)],1),n("span",{staticClass:"top-option"},[n("router-link",{attrs:{to:"/search"}},[t._v("\n          搜索\n          "),n("Icon",{staticStyle:{"margin-bottom":"2px"},attrs:{custom:"i-icon",size:"18",type:"md-search"}})],1)],1)],1),n("div",{staticClass:"content-container"},[n("div",{staticClass:"content"},[n("router-view",{on:{playmusic:t.playmusic,playlist:t.playList,shutup:t.pause}})],1)]),n("div",{staticClass:"footer"},[n("Player",{ref:"Player"})],1)])],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"background-color":"white",height:"100%"}},[n("APlayer",{ref:"aplayer",attrs:{fixed:"",listFolded:"",disableVersionBadge:"",lrcType:3,audio:t.list},on:{canplay:t.canplay,pause:function(e){t.isPlay=!1},play:function(e){t.isPlay=!0},timeupdate:t.timeupdate}}),n("transition",{attrs:{name:"playpage"}},[n("Detail",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],attrs:{currentTime:t.currentTime,currentMusic:t.currentMusic,isPlay:t.isPlay},on:{control:t.control}})],1),n("div",{staticStyle:{position:"absolute",width:"100%",height:"66px"},on:{click:t.showPage}})],1)},a=[],c=n("f499"),l=n.n(c),u=(n("7f7f"),n("cf0d")),f=n.n(u),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullfill stage"},[n("div",{staticClass:"topBar"},[n("Icon",{staticStyle:{"font-size":"25px",position:"fixed",left:"10px"},attrs:{type:"ios-arrow-down"},on:{click:function(e){return t.control("hidedetail")}}}),n("h3",{staticStyle:{padding:"0 40px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[t._v(t._s(t.currentMusic.name))])],1),n("div",{staticClass:"myContent"},[n("div",[t._v(t._s(t.currentMusic.artist))]),n("div",{staticClass:"albumHolder"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.currentMusic.cover}})]),n("div",{staticClass:"lyricArea"},[n("Lyric",{ref:"lyricArea",on:{jumptime:t.changeTime}})],1)]),n("div",{staticClass:"controlArea"},[n("div",{staticStyle:{height:"20px",padding:"0 20px"}},[n("div",{staticStyle:{float:"left","margin-top":"-21px"}},[t._v(t._s(t.timeFormat(t.nowTime)))]),n("div",{staticStyle:{float:"right","margin-top":"-21px"}},[t._v(t._s(t.timeFormat(t.musicTime)))]),n("Slider",{staticClass:"my-slider",attrs:{"tip-format":t.timeFormat,max:t.musicTime},on:{"on-input":t.Sliding,"on-change":t.changeTime},model:{value:t.nowTime,callback:function(e){t.nowTime=e},expression:"nowTime"}})],1),n("div",{staticClass:"buttons"},[n("Icon",{staticStyle:{"font-size":"25px","margin-right":"10%"},attrs:{type:"ios-trash"},on:{click:function(e){return t.control("remove")}}}),n("span",{staticClass:"circle-buttons"},[n("Icon",{staticStyle:{"font-size":"20px",padding:"6px"},attrs:{type:"md-skip-backward"},on:{click:function(e){return t.control("skiplast")}}}),t.isPlay?n("Icon",{staticStyle:{"font-size":"25px",padding:"10px"},attrs:{type:"md-pause"},on:{click:function(e){return t.control("toggle")}}}):t._e(),t.isPlay?t._e():n("Icon",{staticStyle:{"font-size":"25px",padding:"10px"},attrs:{type:"md-play"},on:{click:function(e){return t.control("toggle")}}}),n("Icon",{staticStyle:{"font-size":"20px",padding:"6px"},attrs:{type:"md-skip-forward"},on:{click:function(e){return t.control("skipnext")}}})],1),n("Icon",{staticStyle:{"font-size":"25px","margin-left":"10%"},attrs:{type:"ios-menu"},on:{click:function(e){return t.control("showlist")}}})],1)])])},d=[],h=n("e814"),m=n.n(h),g=(n("6b54"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lyric"},[n("ul",{attrs:{id:"lyric"},on:{touchstart:t.touchstart,touchend:t.touchend}},[t.lyric?t._e():n("li",{staticClass:"lyric-tip"},[t._v("没有歌词")]),n("div",{staticStyle:{height:"50%"}}),t._l(t.lyric,function(e,s,i){return n("li",{key:i,class:{playing:i===t.currentLine}},[t._v(t._s(e))])}),n("div",{staticStyle:{height:"50%"}})],2),t.adjust?n("div",{staticClass:"process-line"},[n("Icon",{staticClass:"border-button",attrs:{type:"ios-play"},on:{click:t.playhere}})],1):t._e()])}),y=[],v=(n("a481"),n("4917"),n("28a5"),n("7514"),n("2d1f")),b=n.n(v),S=n("1157"),x=n.n(S),w={name:"Lyric",props:{frontcolor:{default:"#a6fad1",type:String},backcolor:{default:"white",type:String},percent:{default:0,type:Number}},data:function(){return{lyric:"",currentLine:0,adjust:!1,lasttimecount:null,lineHeights:[]}},methods:{touchstart:function(){this.adjust=!0,this.lasttimecount&&clearTimeout(this.lasttimecount)},touchend:function(){var t=this;this.lasttimecount=setTimeout(function(){t.adjust=!1},1500)},playhere:function(){var t=this,e=document.getElementById("lyric").scrollTop;this.lineHeights.some(function(n,s){if(n>e){var i=b()(t.lyric)[s-1];return t.$emit("jumptime",i[0]),!0}})},setLyric:function(t){this.lyric=this.parseLyric(t),this.$nextTick(this.countHeights)},countHeights:function(){var t=[],e=0;x()("#lyric").find("li").each(function(){e+=x()(this).innerHeight(),t.push(e)}),this.lineHeights=t},scrollLyric:function(t){if(""===this.lyric||this.adjust)return!1;0===this.lineHeights[2]&&this.countHeights();var e=-1;for(var n in this.lyric){if(n>t)break;e++}if(e!==this.currentLine){this.currentLine=e;var s=this.lineHeights[e];x()("#lyric").stop().animate({scrollTop:s},600,"swing")}},parseLyric:function(t){if(""===t)return"";for(var e=t.split("\n"),n={},s=0;s<e.length;s++){var i=decodeURIComponent(e[s]),r=/\[\d*:\d*((\.|:)\d*)*\]/g,o=i.match(r);if(o){var a=i.replace(r,"");if(a)for(var c=0,l=o.length;c<l;c++){var u=o[c],f=Number(String(u.match(/\[\d*/i)).slice(1)),p=Number(String(u.match(/:\d*/i)).slice(1)),d=60*f+p;n[d]=a}}}return n}},created:function(){},mounted:function(){}},_=w,k=(n("02f6"),n("2877")),T=Object(k["a"])(_,g,y,!1,null,null,null),L=T.exports,C=n("4df3"),E={name:"Detail",components:{Lyric:L},props:{currentMusic:Object,currentTime:Number,isPlay:Boolean},data:function(){return{nowTime:0,musicTime:0,jumpTime:0}},methods:{timeFormat:function(t){var e="00"+m()(t/60).toString(),n="00"+m()(t%60).toString();return"".concat(e.substr(-2,2),":").concat(n.substr(-2,2))},control:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.$emit("control",t,e)},updateMusic:function(){var t=this;this.jumpTime=0,Object(C["c"])(this.currentMusic.lrc).then(function(e){t.$refs.lyricArea.setLyric(e)}),this.musicTime=this.currentMusic.interval},timeupdate:function(t,e){this.jumpTime||(this.nowTime=e<this.musicTime?e:this.nowTime,this.$refs.lyricArea.scrollLyric(m()(e))),e-this.jumpTime<2&&e-this.jumpTime>-2&&(this.jumpTime=0)},Sliding:function(t){this.jumpTime=t,this.$refs.lyricArea.scrollLyric(m()(t))},changeTime:function(t){this.jumpTime=t,this.control("changetime",t)}},watch:{currentTime:"timeupdate",currentMusic:"updateMusic"},mounted:function(){}},O=E,j=(n("4f83"),n("ee12"),Object(k["a"])(O,p,d,!1,null,"fc1ce7bc",null)),$=j.exports,I={name:"Player",components:{APlayer:u["APlayer"],Detail:$},data:function(){return{list:[],showDetail:!1,currentMusic:{},currentIndex:0,currentTime:0,isPlay:!1,LOCAL_STORAGE_KEY:"playlist"}},methods:{control:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=this.$refs.aplayer,i={skiplast:s.skipBack,toggle:s.toggle,pause:s.pause,skipnext:s.skipForward,hidedetail:function(){e.showDetail=!1},changetime:function(){s.seek(n)},switchsong:function(){s.switch(n)},remove:function(){s.skipForward(),void 0===n&&(n=e.currentIndex),e.list.splice(n,1)}};i[t]()},notexist:function(t){return 0===this.list.filter(function(e){return e["platform"]===t["platform"]&&e["idforres"]===t["idforres"]}).length},setMusic:function(t){this.notexist(t)?(this.list.push(t),this.$refs.aplayer.switch(this.list.length-1)):this.$refs.aplayer.switch(t["name"])},setList:function(t){this.list=t},showPage:function(){this.currentMusic.playable&&(this.showDetail=!0)},storeCache:function(){localStorage.setItem(this.LOCAL_STORAGE_KEY,l()({list:this.list}))},canplay:function(){this.currentMusic=this.$refs.aplayer.currentMusic,this.currentIndex=this.$refs.aplayer.currentIndex},timeupdate:function(){this.currentTime=this.$refs.aplayer.media.currentTime}},created:function(){var t=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_KEY));t&&(this.list=t.list)},mounted:function(){this.currentMusic=this.$refs.aplayer.currentMusic,this.currentIndex=this.$refs.aplayer.currentIndex},watch:{list:"storeCache"}},M=I,A=(n("2dce"),Object(k["a"])(M,o,a,!1,null,null,null)),P=A.exports,F={name:"App",components:{Player:P},data:function(){return{notFull:!0}},methods:{playmusic:function(t){this.$refs.Player.setMusic(t)},playList:function(t){this.$refs.Player.setList(t)},pause:function(){this.$refs.Player.control("pause")},fullscreen:function(){this.notFull=!1;var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullscreen:function(){this.notFull=!0,document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},created:function(){}},U=F,z=(n("5c0b"),Object(k["a"])(U,i,r,!1,null,null,null)),R=z.exports,N=n("8c4f"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user"},[n("Card",{staticStyle:{margin:"5px 0 10px 0"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("Avatar",{attrs:{src:t.user.profile}}),n("Button",{attrs:{type:"text"},on:{click:function(e){t.showModal=!0}}},[t._v(t._s(t.login?t.user.name:"未登录，点击登录"))]),n("Icon",{staticStyle:{float:"right","font-size":"20px",padding:"4px"},attrs:{type:"md-person"},on:{click:function(e){t.showModal=!0}}})],1),t.respUser?n("p",{on:{click:function(e){return t.relaxionList()}}},[n("Icon",{attrs:{type:"md-heart-outline",size:"16"}}),t._v("我的歌单\n    ")],1):t._e()]),n("Modal",{attrs:{"footer-hide":"",title:t.login?t.user.name:"登录 / 注册"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t.login?n("div",{staticStyle:{"text-align":"center"}},[n("Card",[n("img",{staticStyle:{"max-width":"140px"},attrs:{src:t.user.profile}}),n("Upload",{attrs:{action:"/upload/avator",data:{user:t.respUser.name},"on-success":t.uploadSucc}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击上传新头像")])],1)],1),n("Button",{staticStyle:{margin:"10px 0 0"},attrs:{type:"warning"},on:{click:t.userQuit}},[t._v("退出登录")])],1):n("Form",{attrs:{"label-width":60}},[n("FormItem",{attrs:{label:"昵称"}},[n("Input",{attrs:{placeholder:"昵称"},model:{value:t.sign.username,callback:function(e){t.$set(t.sign,"username",e)},expression:"sign.username"}})],1),n("FormItem",{attrs:{label:"密码"}},[n("Input",{attrs:{placeholder:"密码"},model:{value:t.sign.password,callback:function(e){t.$set(t.sign,"password",e)},expression:"sign.password"}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.Sign("in")}}},[t._v("登录")]),n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.Sign("up")}}},[t._v("注册")])],1)],1)],1),n("Collapse",{attrs:{simple:""}},[n("Panel",{attrs:{name:"-1"}},[t._v("\n      个人账号绑定\n      "),n("Form",{attrs:{slot:"content","label-position":"right","label-width":90},slot:"content"},[t._l(t.platforms,function(e,s){return n("FormItem",{key:s,attrs:{label:e.chName}},[n("Input",{attrs:{disabled:!e.ok,placeholder:e.ok?"":"敬请期待"},model:{value:e.userAccount,callback:function(n){t.$set(e,"userAccount",n)},expression:"pltf.userAccount"}})],1)}),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.bind()}}},[t._v("一键绑定")])],1)],2)],1),t._l(t.platforms,function(e,s){return n("Panel",{key:s,attrs:{name:s}},[t._v("\n      "+t._s(e.chName)+"歌单\n      "),e.userAccount?n("Tag",{staticClass:"limited-tag",attrs:{color:"success"}},[t._v(t._s(e.userAccount))]):t._e(),e.userAccount?n("div",{attrs:{slot:"content"},slot:"content"},t._l(e.songLists,function(e,i){return n("div",{key:i,staticClass:"list-item",on:{click:function(n){return t.viewList(s,e.dissid)}}},[n("div",{staticStyle:{padding:"0 4px",float:"left"}},[n("img",{staticStyle:{"border-radius":"5px",height:"50px",width:"50px"},attrs:{src:e.pic}})]),n("div",{staticClass:"limit-text"},[n("b",[t._v(t._s(e.listname))]),n("p",[t._v(t._s(e.num)+"首")])])])}),0):n("p",{attrs:{slot:"content"},slot:"content"},[t._v("还未绑定")])],1)})],2),n("transition",{attrs:{name:"slide-fade"}},[t.playlist.show?n("div",{staticClass:"myFrame"},[n("div",{staticClass:"upFixedBar"},[n("span",{on:{click:function(e){t.playlist.show=!1}}},[n("Icon",{attrs:{type:"ios-arrow-back"}}),t._v("返回\n        ")],1),n("span",{staticStyle:{float:"right"},on:{click:t.playList}},[t._v("播放全部")])]),n("div",{staticClass:"container"},[n("SongList",{ref:"Songs",on:{playmusic:t.playSong,getnext:t.getNext}})],1)]):t._e()])],1)},G=[],q=(n("ac6a"),n("6fcc")),D={name:"UserInfo",components:{SongList:q["a"]},data:function(){return{user:{name:"Kris",profile:"/resource/avators/default.jpg"},respUser:"",showModal:!1,login:!1,sign:{username:"",password:""},LOCAL_STORAGE_KEY:"USER_INFO",platforms:{wangyi:{chName:"网易云音乐",userAccount:"",songLists:[],ok:!0},qq:{chName:"QQ音乐",userAccount:"",songLists:[],ok:!1},kugou:{chName:"酷狗音乐",userAccount:"",songLists:[],ok:!1}},playlist:{platform:"",id:"",show:!1}}},watch:{respUser:function(t){this.Global.username=t?t.name:""}},methods:{Sign:function(t){var e=this;"in"==t?Object(C["h"])(this.sign).then(function(t){void 0==t["err"]?(e.$Message.success("登录成功"),e.showModal=!1,localStorage.setItem(e.LOCAL_STORAGE_KEY,l()(t)),e.freshUI(t)):e.$Message.info(t["err"])}):Object(C["i"])(this.sign).then(function(t){void 0==t["err"]?e.$Message.success("注册成功，请登录"):e.$Message.info(t["err"])})},userQuit:function(){localStorage.setItem(this.LOCAL_STORAGE_KEY,""),this.freshUI()},freshUI:function(t){var e=this;if(t){this.respUser=t,this.user.name=t.name;var n=t.info;for(var s in this.user.profile=n.avator?n.avator:this.user.profile,this.login=!0,this.platforms){var i=this.platforms[s];i.ok&&void 0!==n[s]&&(this.platforms[s].userAccount=n[s],this.getSongLists(s,n[s]))}}else this.login=!1,this.respUser=null,this.user.profile="/resource/avators/default.jpg",b()(this.platforms).forEach(function(t){var n=t[0],s=t[1];s.ok&&(e.platforms[n].userAccount="",e.platforms[n].songLists=[])})},bind:function(){var t=this;for(var e in this.platforms){var n=this.platforms[e];n.userAccount&&(this.respUser.info[e]=n.userAccount)}Object(C["k"])(this.respUser).then(function(e){void 0==e["err"]?(t.$Message.success("绑定成功"),localStorage.setItem(t.LOCAL_STORAGE_KEY,l()(t.respUser)),t.freshUI(t.respUser)):t.$Message.info(e["err"])})},relaxionList:function(){var t=this;this.playlist.show=!0,this.playlist.platform="relaxion",this.playlist.id=0,Object(C["m"])(this.respUser.name).then(function(e){t.$refs.Songs.set(e)})},viewList:function(t,e){var n=this;this.playlist.show=!0,this.playlist.platform=t,this.playlist.id=e,Object(C["j"])(t,e).then(function(t){n.$refs.Songs.set(t.songs)})},uploadSucc:function(t){var e=t.url;this.$Message.success("成功更新头像"),this.respUser.info["avator"]=e,localStorage.setItem(this.LOCAL_STORAGE_KEY,l()(this.respUser)),this.user.profile=e},playSong:function(t){this.$emit("playmusic",t)},playList:function(){var t=this.$refs.Songs.getSongs();this.$emit("playlist",t)},getNext:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;console.log(n),Object(C["j"])(this.playlist.platform,this.playlist.id,t).then(function(t){e.$refs.Songs.add(t.songs)})},getSongLists:function(t,e){var n=this;Object(C["l"])(t,e).then(function(e){e.lists.forEach(function(e){n.platforms[t].songLists.push({pic:e.pic,listname:e.name,num:e.songnum,dissid:e.dissid})})})}},created:function(){var t=localStorage.getItem(this.LOCAL_STORAGE_KEY);t&&this.freshUI(JSON.parse(t))}},H=D,K=(n("2e52"),Object(k["a"])(H,B,G,!1,null,"054a012a",null)),Y=K.exports;s["default"].use(N["a"]);var J=new N["a"]({mode:"history",base:"/",routes:[{path:"/",name:"user",component:Y},{path:"/search",name:"search",component:function(){return n.e("about").then(n.bind(null,"2d3b"))}},{path:"/mvPlayer",name:"mvPlayer",component:function(){return n.e("chunk-74393a94").then(n.bind(null,"075c"))}}]}),Q=n("2f62");s["default"].use(Q["a"]);var X=new Q["a"].Store({state:{},mutations:{},actions:{}}),V={username:""},W=n("f825"),Z=n.n(W);n("f8ce");s["default"].prototype.Global=V,s["default"].use(Z.a),s["default"].prototype.$Message.config({top:70,duration:2}),s["default"].use(f.a,{defaultCover:"/resource/pics/default.jpg"}),s["default"].config.productionTip=!1,new s["default"]({router:J,store:X,render:function(t){return t(R)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),i=n.n(s);i.a},"5e27":function(t,e,n){},"5fe5":function(t,e,n){},"6b85":function(t,e,n){},"6fcc":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Scroll",{staticStyle:{"text-align":"left"},attrs:{height:"","on-reach-bottom":t.handleReachBottom}},[n("BackTop"),n("transition-group",{attrs:{appear:"",tag:"ul"}},t._l(t.songlist,function(e){return n("li",{key:e.idforres,staticStyle:{"list-style":"none"}},[n("div",{staticClass:"list-item"},[n("span",{staticStyle:{padding:"6px"}},[e.loved?n("Icon",{attrs:{size:"24",type:"md-heart"},on:{click:function(n){return t.hate(e)}}}):n("Icon",{attrs:{size:"24",type:"md-heart-outline"},on:{click:function(n){return t.love(e)}}})],1),n("span",{staticClass:"limit-title",class:{disable:!e.playable},on:{click:function(n){return t.playSong(e)}}},[n("p",[n("b",[t._v(t._s(e.name))])]),n("p",[t._v(t._s(e.artist))])]),n("span",{staticStyle:{padding:"6px"}},[n("router-link",{staticStyle:{color:"black"},attrs:{to:{name:"mvPlayer",params:{mv:e}}}},[e.mvid?n("Icon",{attrs:{custom:"i-icon",size:"24",type:"ios-film-outline"}}):t._e()],1)],1)])])}),0)],1)},i=[],r=n("795b"),o=n.n(r),a=n("f499"),c=n.n(a),l=n("4df3"),u={name:"SongList",components:{},data:function(){return{EXCEED:!1,page:1,songlist:[]}},methods:{hate:function(t){var e=this;Object(l["e"])({username:this.Global.username,songid:t.platform+t.idforres}).then(function(t){t?e.$Message.success("成功从歌单移除"):e.$Message.error("移除失败")})},love:function(t){var e=this;this.Global.username?Object(l["f"])({username:this.Global.username,songid:t.platform+t.idforres,info_str:c()(t)}).then(function(t){t?e.$Message.success("成功添加到歌单"):e.$Message.error("请勿重复添加")}):this.$Message.info("请先登录")},playSong:function(t){t.playable?this.$emit("playmusic",t):this.$Message["warning"]({background:!0,content:"有版权限制哦"})},add:function(t){this.songlist=this.songlist.concat(t),20===t.length?this.page+=1:this.EXCEED=!0},set:function(t){this.songlist=t,this.page=1,this.EXCEED=20!==t.length},getSongs:function(){return this.songlist},handleReachBottom:function(){var t=this;return new o.a(function(e){t.EXCEED?t.$Message.info("没有更多歌曲了"):t.$emit("getnext",t.page,"songs"),e()})}},created:function(){}},f=u,p=(n("0a98"),n("2877")),d=Object(p["a"])(f,s,i,!1,null,"3979c226",null);e["a"]=d.exports},"76ea":function(t,e,n){},ee12:function(t,e,n){"use strict";var s=n("5fe5"),i=n.n(s);i.a}});
//# sourceMappingURL=app.1d52576c.js.map