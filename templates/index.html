<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>大碗宽面俱乐部 API</title>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- 引入 axios 调用 api -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>


<body>
    <div id="app">
        <el-container>
            <el-header>
                <h2>Welcome To Big Bow & Wide Noodle GateWay!</h2>
            </el-header>
            <el-container>
                <el-aside>
                    <el-menu :default-openeds="['1']" class="el-menu-vertical-demo" @select="selectmenu">
                        <el-submenu index="1">
                            <template slot="title">
                                <i class="el-icon-location"></i>
                                <span>音乐</span>
                            </template>
                            <el-menu-item v-for="name_prop in Object.entries(testcase.music)" :index="name_prop[0]"
                                :keys="name_prop[0]">{{name_prop[1].zhName}}
                            </el-menu-item>
                        </el-submenu>
                        <el-menu-item index="2">
                            <template slot="title">
                                <i class="el-icon-menu"></i>
                                <span slot="title">视频</span>
                            </template>
                            <el-menu-item v-for="name_prop in Object.entries(testcase.movie)" :index="name_prop[0]"
                                :keys="name_prop[0]">{{name_prop[1].zhName}}
                            </el-menu-item>
                        </el-menu-item>
                        <el-menu-item index="3">
                            <i class="el-icon-document"></i>
                            <span slot="title">第三方接口</span>
                        </el-menu-item>
                        <el-menu-item index="4">
                            <i class="el-icon-document"></i>
                            <span slot="title">文档</span>
                        </el-menu-item>
                    </el-menu>
                </el-aside>
                <el-main>
                    <div v-if="selectedcategory === '1'">
                        <ul>
                            <li><a :href="`/${platformName}/songs?keyword=${platform.keyword}&page=1`">在
                                    {{platform.zhName}}里 搜索“{{platform.keyword}}”的歌曲的第 1 页</a></li>
                            <li><a :href="`/${platformName}/albums?keyword=${platform.keyword}&page=2`">在
                                    {{platform.zhName}}里 搜索“{{platform.keyword}}”的专辑的第 2 页</a></li>
                            <li><a :href="`/${platformName}/mv?keyword=${platform.keyword}&page=3`">在
                                    {{platform.zhName}}里 搜索“{{platform.keyword}}”的MV的第 3 页</a></li>
                            <li><a :href="`/${platformName}/songs/album?albumid=${platform.albumid}`">在
                                    {{platform.zhName}}里 获取专辑 id 为 {{platform.albumid}} 里面的所有歌曲</a></li>
                            <li><a :href="`/${platformName}/songs/songlist?dissid=${platform.dissid}`">在
                                    {{platform.zhName}}里 获取歌单 id 为 {{platform.dissid}} 里面的歌曲</a></li>
                            <li><a
                                    :href="`/${platformName}/comments/album?idforcomments=${platform.idforcomments.album}`">在
                                    {{platform.zhName}}里 获取专辑 idforcomments 为 {{platform.idforcomments.album}} 的评论</a>
                            </li>
                            <li><a
                                    :href="`/${platformName}/comments/song?idforcomments=${platform.idforcomments.song}`">在
                                    {{platform.zhName}}里 获取音乐 idforcomments 为 {{platform.idforcomments.song}} 的评论</a>
                            </li>
                            <li><a :href="`/${platformName}/comments/mv?idforcomments=${platform.idforcomments.mv}`">在
                                    {{platform.zhName}}里 获取mv idforcomments 为 {{platform.idforcomments.mv}} 的评论</a>
                            </li>
                            <li><a :href="`/${platformName}/uri/song?idforres=${platform.idforres}`">在
                                    {{platform.zhName}}里 获取音乐 idforres 为 {{platform.idforres}} 的 uri</a></li>
                            <li><a :href="`/${platformName}/uri/mv?mvid=${platform.mvid}`">在 {{platform.zhName}}里 获取mv
                                    id 为 {{platform.mvid}} 的 uri</a></li>
                            <li><a :href="`/${platformName}/lyric/${platform.lyricid}`">在 {{platform.zhName}}里 获取音乐歌词id
                                    为 {{platform.lyricid}} 的歌词内容</a></li>
                            <li><a :href="`/${platformName}/user/songlists?user=${platform.user}`">在
                                    {{platform.zhName}}里 获取QQ号 为 {{platform.user}} 的 所有公开歌单</a></li>
                        </ul>
                    </div>
                    <div v-if="selectedcategory === '2'">

                    </div>
                    <div v-if="selectedcategory === '3'">
                        <ul>
                            <li><a href="http://localhost:5000">QQ Music service</a></li>
                            <li><a href="http://api.goldenproud.cn/wangyi">WangYi Music service</a></li>
                            <li><a href="#">KuGou Music service</a></li>
                            <li><a href="#">XiaMi Music service</a></li>
                        </ul>
                    </div>
                    <div v-if="selectedcategory === '4'">
                        <a href="https://apizza.net/pro/#/project/01eec0c96c62477ce9c7c88a7cacef22/browse">文档</a>
                    </div>
                </el-main>
            </el-container>
        </el-container>
    </div>
</body>
<script>
    // get testcases
    axios.get('/static/testcase.json')
        .then(function (response) {

            mainApp(response.data);
        })
        .catch(function (error) {
            console.log(error);
        })

    function mainApp(data) {
        new Vue({
            el: '#app',
            data: () => {
                return {
                    testcase: data,
                    platformName: Object.keys(data.music)[0], // default select first music platform
                    platform: Object.entries(data.music)[0][1], // default select first music platform
                    selectedcategory: 1
                }
            },
            methods: {
                selectmenu(index, indexpath) {
                    this.selectedcategory = indexpath[0];
                    this.platformName = index;
                    if (this.selectedcategory === "1") {
                        this.platform = this.testcase.music[index]
                        console.log(this.platform)
                    }
                }
            },
            mounted() {

            }
        })
    }
</script>

</html>